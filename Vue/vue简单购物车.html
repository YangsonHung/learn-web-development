<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>vue简单购物车</title>
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			#app {
				width: 500px;
				margin: 0 auto;
				text-align: center;
			}

			table {
				border: 1px solid black;
			}

			table {
				width: 100%;
			}

			th {
				height: 50px;
			}

			th,
			td {
				border-bottom: 1px solid #ddd;
			}

			td span {
				display: inline-block;
				background-color: darkorange;
				width: 20px;
				vertical-align: bottom;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<table>
				<tr>
					<th>序号</th>
					<th>商品名称</th>
					<th>商品价格</th>
					<th>购买数量</th>
					<th>操作</th>
				</tr>
				<tr v-for="iphone in Ip_Json">
					<td>{{ iphone.id }}</td>
					<td>{{ iphone.name }}</td>
					<td>{{ iphone.price }}</td>
					<td>
						<button v-bind:disabled="iphone.count === 0" v-on:click="iphone.count-=1">-</button>
						<span>{{ iphone.count }}</span>
						<button v-on:click="iphone.count+=1">+</button>
					</td>
					<td>
						<button v-on:click="iphone.count=0">移除</button>
					</td>
				</tr>
			</table>
			总价：${{totalPrice()}}
		</div>
		<script type="text/javascript">
			var app = new Vue({
				el: '#app',
				data: {
					Ip_Json: [{
							id: 1,
							name: 'iphone 8',
							price: 5099,
							count: 1
						},
						{
							id: 2,
							name: 'iphone xs',
							price: 8699,
							count: 1
						},
						{
							id: 3,
							name: 'iphone xr',
							price: 6499,
							count: 1
						}
					]

				},
				methods: {
					totalPrice: function() {
						var tp = 0;
						for (var i = 0, len = this.Ip_Json.length; i < len; i++) {
							tp += this.Ip_Json[i].price * this.Ip_Json[i].count;
						}
						return tp;
					}
				}
			})
		</script>
	</body>
</html>
