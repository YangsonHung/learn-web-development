<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>面向对象-创建对象3</title>
</head>

<body>
    <script>
        'use strict'

        function Cat(name) {
            this.name = name;
        }
        // 使用箭头函数失败
        // 箭头函数里的this由上下文确定，这里的this指的是window
        // window并没有name属性
        /*Cat.prototype.say = () => {
        	console.log(this)
        	return 'Hello, ' + this.name + '!';
        }*/
        // 这里this指的是新建的Cat对象
        Cat.prototype.say = function () {
            return 'Hello, ' + this.name + '!';
        }
        // 测试:
        var kitty = new Cat('Kitty');
        var doraemon = new Cat('哆啦A梦');
        if (kitty && kitty.name === 'Kitty' && kitty.say && typeof kitty.say === 'function' && kitty.say() ===
            'Hello, Kitty!' && kitty.say === doraemon.say) {
            console.log('测试通过!');
        } else {
            console.log('测试失败!');
        }
    </script>
</body>

</html>